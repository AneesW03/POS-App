<!-- Invoice Management Page -->
<ion-header [translucent]="true" class="small-header">
    <ion-toolbar>
      <ion-title>Invoice Management</ion-title>
    </ion-toolbar>
  </ion-header>
  
  <ion-content [fullscreen]="true">
    
    <ion-grid>
      <ion-row class="summary">
        <ion-col class="summary-item">
          <p>Delivered</p>
          <h3>12</h3>
        </ion-col>
        <ion-col class="summary-item">
          <p>To be delivered</p>
          <h3>3</h3>
        </ion-col>
        <ion-col class="summary-item">
          <p>Returns</p>
          <h3>2</h3>
        </ion-col>
      </ion-row>
    </ion-grid>
  
    <!-- Search Bar with Dropdown -->
    <div class="search-container">
      <ion-searchbar placeholder="Search"></ion-searchbar>
      <ion-button fill="clear" id="filter-button" class="small-button" (click)="toggleDropDown()">
        <ion-icon name="chevron-down"></ion-icon>
      </ion-button>
    </div>
    <ion-list *ngIf="!isDropdownHidden">
      <ion-item button>Search by Newest</ion-item>
      <ion-item button>Filter by Oldest</ion-item>
      <ion-item button>Show Undelivered</ion-item>
    </ion-list>
  
    <!-- Invoice List -->
    <ion-list>
      <ion-card class="invoice-card">
        <ion-card-content>
          <h3>Company 1</h3>
          <ion-grid>
            <ion-row>
              <ion-col><b>Amt</b><br>$2000.00</ion-col>
              <ion-col><b>No</b><br>45462</ion-col>
              <ion-col><b>Date</b><br>20/05/2025</ion-col>
            </ion-row>
          </ion-grid>
          <ion-button color="success">Delivered</ion-button>
        </ion-card-content>
      </ion-card>
  
      <ion-card class="invoice-card">
        <ion-card-content>
          <h3>Company 1</h3>
          <ion-grid>
            <ion-row>
              <ion-col><b>Amt</b><br>$2000.00</ion-col>
              <ion-col><b>No</b><br>45462</ion-col>
              <ion-col><b>Date</b><br>20/07/2025</ion-col>
            </ion-row>
          </ion-grid>
          <ion-button color="warning">To be delivered</ion-button>
        </ion-card-content>
      </ion-card>
  
      <ion-card class="invoice-card">
        <ion-card-content>
          <h3>Company 1</h3>
          <ion-grid>
            <ion-row>
              <ion-col><b>Amt</b><br>$2000.00</ion-col>
              <ion-col><b>No</b><br>45462</ion-col>
              <ion-col><b>Date</b><br>30/01/2026</ion-col>
            </ion-row>
          </ion-grid>
          <ion-button color="warning">To be delivered</ion-button>
        </ion-card-content>
      </ion-card>
    </ion-list>
  
  </ion-content>
  
  <!-- Bottom Navigation -->
  <ion-footer>
    <ion-toolbar>
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-button fill="clear">
              <ion-icon name="person-circle"></ion-icon>
            </ion-button>
          </ion-col>
          <ion-col>
            <ion-button fill="clear">
              <ion-icon name="sync"></ion-icon>
            </ion-button>
          </ion-col>
          <ion-col>
            <ion-button fill="clear">
              <ion-icon name="home"></ion-icon>
            </ion-button>
          </ion-col>
          <ion-col>
            <ion-button fill="clear">
              <ion-icon name="cloud-download"></ion-icon>
            </ion-button>
          </ion-col>
          <ion-col>
            <ion-button fill="clear">
              <ion-icon name="settings"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-toolbar>
  </ion-footer>

  <script>
document.addEventListener("DOMContentLoaded", function () {
  const filterButton = document.getElementById("filter-button");
  const dropdown = document.getElementById("filter-dropdown");

  if (!filterButton || !dropdown) {
    console.error("Dropdown elements not found!");
    return;
  }

  filterButton.addEventListener("click", function (event) {
    dropdown.classList.toggle("show");
    event.stopPropagation(); 
  });

  
  document.addEventListener("click", function (event) {
    if (!dropdown.contains(event.target) && !filterButton.contains(event.target)) {
      dropdown.classList.remove("show");
    }
  });

  
  dropdown.querySelectorAll("ion-item").forEach((item) => {
    item.addEventListener("click", function () {
      dropdown.classList.remove("show");
    });
  });
});

  </script>